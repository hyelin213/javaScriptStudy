<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise</title>
</head>
<body>
    <h1>promise.html</h1>
    <script>

        function p1(resolve, reject){ // 둘 다 콜백함수를 담음  
            resolve(1); // 결정된(성공or실패) 통신 작업이 들어가는 위치
        }
        // 위치 기준으로 resolve: 성공, reject: 실패
        // resolve = .then
        // reject = .catch

        const promise = new Promise(p1);
        // Promise: 다중 콜백을 가독성있게 해주는 것

        promise.then(function(result){
            console.log('then: ' + result);
            return 1;
            /*
                return 1; 의 의미
                    return new Promise(function(resolve){
                        resolve(1);
                    });
                
                그래서 다음에 다시 .then을 사용할 수 있다.
            */
           
        }); // 기본 세팅 -> 성공했을 때 출력되는 값

        promise.catch(function(result){
            console.log('catch: ' + result);
        }); // 기본 세팅 -> 실패했을 때 출력되는 값
        // then과 catch는 콜백 함수를 담는다. 1개의 인자만 넣는다.

        /*
        ** 순서 ------
            1. promise 객체 생성(중요)
            2. 객체 생성할 때, (통신 작업이 있는(오래 걸리는))콜백함수를 보내줘야한다.
            3. promise 객체에 then, catch에 콜백 함수를 세팅한다.
        */

        /*
            대문자로 시작하는 것은 '생성자 함수'라고 한다.(constructor)
            new ~: 객체 생성(자바, C++, C#도 동일)
            
            new Promise: Promise 객체를 만든 것, 설계되어있는 것
            (const Promise = {}; 와 비슷, 설계되어있지 않아 직접 값을 작성해야하는 것)

            예시로 클래스는 붕어빵 틀, 만들어진 객체는 붕어빵
        */

    </script>
</body>
</html>